(function(e,g){var f={syntax:{namePrefix:"^[a-zA-Z0-9]{1,2}-",namePattern:"[a-zA-Z0-9-]+",elemPrefix:"__",modPrefix:"_",modDlmtr:"_"},config:{}};var b="1.1.0-beta7";var c={};var d={};var a=[];this.bem={init:function(){this.setConfig();return this},extend:function(i,h){this[i]=h;if(this[i].init!=g){this[i].init()}},decl:function(h,l,k,j){var i=this,l=l||{},k=l,j=j||false;if(!j){a.push({selector:h,props:l})}var h=i._buildSelector(h);e.each(l,function(m,n){if(typeof n=="function"){if(m.indexOf("on")==0){var p=m.replace(/^on/,"").toLowerCase();e(document).on(p,h,function(s){var r=Array.prototype.slice.call(arguments);var t=e(this);t.selector=h;r.unshift(t);s.stopPropagation();return n.apply(k,r)})}}else{if(typeof n=="object"){var m=m.replace(/[A-Z]/g,"-$&").toLowerCase();var q=i._getBlockClass(h);var o=i._buildElemClass(q,m);i.decl(o,n,k,"recursive")}}});e(function(){e(h).trigger("init")})},reload:function(){var h=this,i=a;a=[];e.each(i,function(k,j){h.decl(j.selector,j.props)})},setConfig:function(h,i){var h=h||{},i=i||{};c=e.extend(f.syntax,h);d=e.extend(f.config,i)},getBlock:function(i,h){var h=h||null,k=this._getBlockClass(i),j=i.closest("."+k);j.selector=k;if(h){return j.elem(h)}return j},findElem:function(l,k){var h=this,m=h._getBlockClass(l);var j=h._buildElemClass(m,k);var i=l.find("."+j);return i},getMod:function(j,i){var h=this._extractMods(j.first());if(h[i]!=g){return h[i]}return null},hasMod:function(k,j,h){var i=this._extractMods(k.first()),h=h||null;if(h){if(i[j]==h){return true}}else{if(i[j]!=g){return true}}return false},setMod:function(l,k,i){var j=this,i=i||"yes",h=l.selector;l.each(function(){var q=e(this);q.selector=h;var p=j._extractMods(q),n=j._getBaseClass(q);if(p[k]!=g){var o=j._buildModClass(n,k,p[k]);q.removeClass(o)}var m=j._buildModClass(n,k,i);q.addClass(m).trigger("setmod",[k,i])});return l},delMod:function(l,k,i){var j=this,i=i||null,h=l.selector;l.each(function(){var p=e(this);p.selector=h;var n=j._extractMods(p),m=j._getBaseClass(p);if(i){if(n[k]==i){var o=j._buildModClass(m,k,n[k]);p.removeClass(o).trigger("delmod",[k,i])}}else{if(n[k]!=g){var o=j._buildModClass(m,k,n[k]);p.removeClass(o).trigger("delmod",[k,i])}}});return l},byMod:function(n,m,j,k){var l=this,j=j||null,k=k||false,i=n.selector,h=e();n.each(function(){var r=e(this);r.selector=i;var p=l._extractMods(r),o=l._getBaseClass(r);if(j){if(p[m]==j){var q=l._buildModClass(o,m,p[m])}}else{if(p[m]!=g){var q=l._buildModClass(o,m,p[m])}}h=h.add(k?r.not("."+q):r.filter("."+q))});h.selector=i;return h},_extractBlocks:function(k){var i=this,h=[];var j=this._getClasses(k);e.each(j,function(l,o){var m=i._getClassType(o);if(m=="block"){h.push(o)}else{if(m=="elem"){var n=o.split(c.elemPrefix);h.push(n[0])}}});return h},_extractElems:function(h){return[]},_extractMods:function(j){var i=this,h={};j.each(function(){var k=e(this);e.each(i._getClasses(k),function(l,n){if(i._getClassType(n)=="mod"){var m=i._buildModClassRe().exec(n);var o=m[1].split(c.modDlmtr);h[o[0]]=o[1]}})});return h},_getClasses:function(j){var i,h=[];if(typeof j=="object"){if(j.selector!=""){i=j.selector.split(".")}else{if(j.attr("class")!=g){i=j.attr("class").split(" ")}else{return null}}}else{i=j.split(".")}e.each(i,function(k,l){if(l!=""){h.push(l.trim())}});return h},_buildBlockClassRe:function(){return new RegExp(c.namePrefix+"("+c.namePattern+")$")},_buildElemClassRe:function(){return new RegExp(c.namePrefix+c.namePattern+c.elemPrefix+"("+c.namePattern+")$")},_buildModClassRe:function(){return new RegExp(c.namePrefix+".*"+c.modPrefix+"("+c.namePattern+c.modDlmtr+c.namePattern+")$")},_buildBlockClass:function(h){return h},_buildElemClass:function(h,i){return h+c.elemPrefix+i},_buildModClass:function(i,j,h){return i+c.modPrefix+j+c.modDlmtr+h},_buildSelector:function(h,k){if(k!==""){var k=k||"."}if(typeof h=="object"){if(h.block!=g){var j=this._buildBlockClass(h.block);if(h.elem!=g){j=this._buildElemClass(j,h.elem)}if(h.mod!=g){var i=h.mod.split(":");j=this._buildModClass(j,i[0],i[1])}}}return j!=g?k+j:k+h},_getBlockClass:function(j,i){var h=this._extractBlocks(j);if(i!==0){var i=i||h.length-1}return i<=h.length-1?h[i]:null},_getBaseClass:function(k){var h=this,j=null;var i=this._getClasses(k);e.each(i,function(l,n){var m=h._getClassType(n);if(m&&m!="mod"){j=n}});return j},_getClassType:function(h){if(this._buildModClassRe().test(h)){return"mod"}else{if(this._buildElemClassRe().test(h)){return"elem"}else{if(this._buildBlockClassRe().test(h)){return"block"}}}return null}};bem.init()})(jQuery,undefined);(function(a,b){a.fn.up=function(c){return bem.getBlock(a(this),c)};a.fn.elem=function(c){return bem.findElem(a(this),c)};a.fn.getMod=function(c){return bem.getMod(a(this),c)};a.fn.hasMod=function(d,c){return bem.hasMod(a(this),d,c)};a.fn.setMod=function(d,c){return bem.setMod(a(this),d,c)};a.fn.delMod=function(d,c){return bem.delMod(a(this),d,c)};a.fn.byMod=function(d,c){return bem.byMod(a(this),d,c)};a.fn.byNotMod=function(d,c){return bem.byMod(a(this),d,c,"inverse")}})(jQuery,undefined);